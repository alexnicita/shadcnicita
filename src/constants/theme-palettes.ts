export type PaletteId =
  | "onyx"
  | "lagoon"
  | "cobalt"
  | "vermilion"
  | "ultraviolet"
  | "copper";

type CSSVarMap = Record<string, string>;

export type ThemePalette = {
  id: PaletteId;
  label: string;
  description: string;
  preview: {
    light: string;
    dark: string;
  };
  tokens: {
    light: CSSVarMap;
    dark: CSSVarMap;
  };
};

const palette = (
  id: ThemePalette["id"],
  label: string,
  description: string,
  preview: ThemePalette["preview"],
  light: CSSVarMap,
  dark: CSSVarMap
): ThemePalette => ({
  id,
  label,
  description,
  preview,
  tokens: { light, dark },
});

export const THEME_PALETTES: Record<PaletteId, ThemePalette> = {
  onyx: palette(
    "onyx",
    "Onyx / Ivory",
    "Default neutral palette: inky blacks for light mode, ivory glow in dark mode.",
    { light: "#050505", dark: "#f6f6f6" },
    {
      background: "0 0% 98%",
      foreground: "240 10% 4%",
      popover: "0 0% 100%",
      "popover-foreground": "240 10% 4%",
      secondary: "0 0% 94%",
      "secondary-foreground": "240 5% 16%",
      muted: "0 0% 93%",
      "muted-foreground": "240 3% 45%",
      destructive: "0 84% 60%",
      "destructive-foreground": "0 0% 98%",
      border: "240 4% 85%",
      input: "240 4% 85%",
      primary: "0 0% 4%",
      "primary-foreground": "0 0% 98%",
      accent: "240 4.8% 92%",
      "accent-foreground": "0 0% 7%",
      ring: "0 0% 4%",
      card: "0 0% 100%",
      "card-foreground": "240 10% 3.9%",
    },
    {
      background: "220 7% 6%",
      foreground: "0 0% 94%",
      popover: "0 0% 9%",
      "popover-foreground": "0 0% 96%",
      secondary: "0 0% 18%",
      "secondary-foreground": "0 0% 95%",
      muted: "0 0% 18%",
      "muted-foreground": "0 0% 70%",
      destructive: "0 62% 40%",
      "destructive-foreground": "0 0% 98%",
      border: "0 0% 22%",
      input: "0 0% 22%",
      primary: "0 0% 96%",
      "primary-foreground": "0 0% 12%",
      accent: "0 0% 18%",
      "accent-foreground": "0 0% 96%",
      ring: "0 0% 90%",
      card: "24 9.8% 8.5%",
      "card-foreground": "0 0% 96%",
    }
  ),
  lagoon: palette(
    "lagoon",
    "Lagoon",
    "Tropical teal gradients inspired by bioluminescent bays.",
    { light: "#0f9b8e", dark: "#20f6d9" },
    {
      background: "166 60% 97%",
      foreground: "176 44% 16%",
      popover: "0 0% 100%",
      "popover-foreground": "176 44% 16%",
      secondary: "163 52% 92%",
      "secondary-foreground": "174 52% 20%",
      muted: "164 45% 90%",
      "muted-foreground": "174 32% 35%",
      destructive: "0 84% 60%",
      "destructive-foreground": "0 0% 98%",
      border: "166 34% 85%",
      input: "166 34% 85%",
      primary: "173 80% 32%",
      "primary-foreground": "160 100% 97%",
      accent: "170 65% 90%",
      "accent-foreground": "175 80% 25%",
      ring: "172 84% 38%",
      card: "166 44% 97%",
      "card-foreground": "174 54% 18%",
    },
    {
      background: "190 28% 10%",
      foreground: "170 78% 82%",
      popover: "187 32% 14%",
      "popover-foreground": "170 78% 82%",
      secondary: "188 30% 18%",
      "secondary-foreground": "170 75% 80%",
      muted: "188 26% 20%",
      "muted-foreground": "170 60% 75%",
      destructive: "0 62% 40%",
      "destructive-foreground": "0 0% 98%",
      border: "188 28% 26%",
      input: "188 28% 26%",
      primary: "166 75% 65%",
      "primary-foreground": "180 90% 10%",
      accent: "175 60% 25%",
      "accent-foreground": "165 85% 85%",
      ring: "165 70% 72%",
      card: "183 28% 12%",
      "card-foreground": "170 78% 80%",
    }
  ),
  cobalt: palette(
    "cobalt",
    "Cobalt Drift",
    "Deep ocean blues with electric highlights.",
    { light: "#1c3faa", dark: "#6ea8ff" },
    {
      background: "220 42% 97%",
      foreground: "223 47% 18%",
      popover: "0 0% 100%",
      "popover-foreground": "223 47% 18%",
      secondary: "220 35% 93%",
      "secondary-foreground": "223 50% 22%",
      muted: "220 30% 90%",
      "muted-foreground": "224 35% 40%",
      destructive: "0 84% 60%",
      "destructive-foreground": "0 0% 98%",
      border: "220 30% 86%",
      input: "220 30% 86%",
      primary: "225 74% 39%",
      "primary-foreground": "210 40% 98%",
      accent: "220 65% 92%",
      "accent-foreground": "225 60% 28%",
      ring: "226 70% 45%",
      card: "217 33% 97%",
      "card-foreground": "220 43% 18%",
    },
    {
      background: "229 32% 11%",
      foreground: "214 90% 90%",
      popover: "228 32% 14%",
      "popover-foreground": "214 90% 90%",
      secondary: "230 28% 20%",
      "secondary-foreground": "214 75% 88%",
      muted: "229 26% 22%",
      "muted-foreground": "212 65% 85%",
      destructive: "0 62% 40%",
      "destructive-foreground": "0 0% 98%",
      border: "228 28% 28%",
      input: "228 28% 28%",
      primary: "214 92% 75%",
      "primary-foreground": "220 63% 15%",
      accent: "222 63% 25%",
      "accent-foreground": "215 90% 88%",
      ring: "214 94% 82%",
      card: "229 30% 12%",
      "card-foreground": "214 90% 90%",
    }
  ),
  vermilion: palette(
    "vermilion",
    "Vermilion Pulse",
    "Fiery vermilion reds balanced with charcoal neutrals.",
    { light: "#e3452f", dark: "#ff9d7a" },
    {
      background: "18 42% 97%",
      foreground: "16 60% 20%",
      popover: "0 0% 100%",
      "popover-foreground": "16 60% 20%",
      secondary: "18 36% 92%",
      "secondary-foreground": "16 62% 22%",
      muted: "18 32% 90%",
      "muted-foreground": "16 40% 40%",
      destructive: "0 74% 45%",
      "destructive-foreground": "11 100% 98%",
      border: "18 22% 85%",
      input: "18 22% 85%",
      primary: "10 85% 52%",
      "primary-foreground": "20 100% 98%",
      accent: "15 63% 92%",
      "accent-foreground": "8 80% 30%",
      ring: "8 88% 58%",
      card: "18 36% 97%",
      "card-foreground": "16 50% 20%",
    },
    {
      background: "12 30% 12%",
      foreground: "16 72% 88%",
      popover: "12 35% 15%",
      "popover-foreground": "16 72% 88%",
      secondary: "10 32% 20%",
      "secondary-foreground": "14 70% 85%",
      muted: "8 32% 22%",
      "muted-foreground": "14 50% 78%",
      destructive: "0 62% 40%",
      "destructive-foreground": "0 0% 98%",
      border: "10 28% 28%",
      input: "10 28% 28%",
      primary: "14 80% 72%",
      "primary-foreground": "12 68% 14%",
      accent: "12 40% 18%",
      "accent-foreground": "16 80% 86%",
      ring: "15 85% 70%",
      card: "10 33% 12%",
      "card-foreground": "15 65% 88%",
    }
  ),
  ultraviolet: palette(
    "ultraviolet",
    "Ultraviolet Bloom",
    "Neon violets with soft lavender mists.",
    { light: "#7f3dfa", dark: "#d6b4ff" },
    {
      background: "266 48% 97%",
      foreground: "265 42% 22%",
      popover: "0 0% 100%",
      "popover-foreground": "265 42% 22%",
      secondary: "268 45% 93%",
      "secondary-foreground": "266 50% 26%",
      muted: "266 36% 92%",
      "muted-foreground": "266 34% 40%",
      destructive: "0 84% 60%",
      "destructive-foreground": "0 0% 98%",
      border: "266 24% 86%",
      input: "266 24% 86%",
      primary: "266 83% 58%",
      "primary-foreground": "270 100% 98%",
      accent: "265 61% 94%",
      "accent-foreground": "266 70% 30%",
      ring: "265 84% 62%",
      card: "260 40% 97%",
      "card-foreground": "260 42% 22%",
    },
    {
      background: "264 32% 13%",
      foreground: "270 76% 88%",
      popover: "265 34% 16%",
      "popover-foreground": "270 76% 88%",
      secondary: "266 32% 20%",
      "secondary-foreground": "270 70% 88%",
      muted: "266 28% 22%",
      "muted-foreground": "269 50% 82%",
      destructive: "0 62% 40%",
      "destructive-foreground": "0 0% 98%",
      border: "266 26% 30%",
      input: "266 26% 30%",
      primary: "271 85% 78%",
      "primary-foreground": "269 65% 14%",
      accent: "268 44% 22%",
      "accent-foreground": "270 82% 90%",
      ring: "270 84% 82%",
      card: "265 34% 13%",
      "card-foreground": "270 76% 88%",
    }
  ),
  copper: palette(
    "copper",
    "Copper Canyon",
    "Earthy copper gradients inspired by desert sunsets.",
    { light: "#c56a24", dark: "#f0c097" },
    {
      background: "32 52% 97%",
      foreground: "24 42% 20%",
      popover: "0 0% 100%",
      "popover-foreground": "24 42% 20%",
      secondary: "32 45% 92%",
      "secondary-foreground": "26 60% 24%",
      muted: "32 32% 90%",
      "muted-foreground": "26 35% 40%",
      destructive: "0 74% 45%",
      "destructive-foreground": "11 100% 98%",
      border: "30 26% 85%",
      input: "30 26% 85%",
      primary: "27 77% 45%",
      "primary-foreground": "33 100% 96%",
      accent: "30 55% 90%",
      "accent-foreground": "26 70% 28%",
      ring: "27 80% 50%",
      card: "35 40% 97%",
      "card-foreground": "24 35% 20%",
    },
    {
      background: "25 28% 13%",
      foreground: "30 78% 82%",
      popover: "26 30% 16%",
      "popover-foreground": "30 78% 82%",
      secondary: "24 28% 20%",
      "secondary-foreground": "30 75% 80%",
      muted: "26 26% 22%",
      "muted-foreground": "28 45% 76%",
      destructive: "0 62% 40%",
      "destructive-foreground": "0 0% 98%",
      border: "25 25% 30%",
      input: "25 25% 30%",
      primary: "30 80% 70%",
      "primary-foreground": "32 50% 14%",
      accent: "27 35% 18%",
      "accent-foreground": "27 85% 80%",
      ring: "31 84% 72%",
      card: "24 28% 12%",
      "card-foreground": "30 78% 82%",
    }
  ),
};

export const DEFAULT_PALETTE_ID: PaletteId = "onyx";

export function isPaletteId(value: string | null): value is PaletteId {
  if (!value) return false;
  return value in THEME_PALETTES;
}

